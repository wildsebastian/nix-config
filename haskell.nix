pkgs: version: hpkgs: with hpkgs;

# These work with every version of GHC environments are created for
[
  aeson
  aeson-casing
  amazonka
  amazonka-core
  amazonka-cost-explorer
  amazonka-s3
  amazonka-pricing
  amqp
  async
  base
  base-encoding
  base64-bytestring
  bytestring
  conduit
  conduit-extra
  containers
  contravariant
  cryptonite
  cryptonite-conduit
  fast-logger
  ghc
  hedgehog
  hspec
  hspec-wai
  hspec-wai-json
  http-client
  http-client-tls
  json
  lens
  miso
  mtl
  monad-logger
  persistent
  persistent-mysql
  persistent-template
  pipes
  pipes-concurrency
  pipes-csv
  pipes-group
  pipes-parse
  QuickCheck
  servant
  servant-auth
  servant-auth-server
  servant-client
  servant-server
  tasty
  tasty-hunit
  tasty-quickcheck
  tasty-th
  template-haskell
  text
  time
  transformers
  unordered-containers
  uuid
  vector
  wai
  wai-logger
  warp
  xml
] ++
# These don't work with GHC 8.6 yet
(pkgs.stdenv.lib.optionals (version < 8.6)
[
  criterion
])
